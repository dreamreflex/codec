# 敏感数据纸质存档指南

本指南详细说明如何利用本系统的**里德-所罗门编码（Reed-Solomon Codec）**及**格式化块（Formatted Block）**功能，将敏感数据（如私钥、助记词、重要密码等）转换为适合打印和长期物理保存的格式。

## 核心原理

系统通过 Reed-Solomon 算法对数据进行冗余编码，生成抗损坏的编码块。即使纸张发生部分污损、撕裂或在人工录入时出现部分字符错误，只要错误量在设定的**容错率**范围内，原始数据仍可被完整恢复。

## 第一部分：数据存档（编码与打印）

### 1. 准备数据
在“编码 (Encode)”页面：
- **输入方式**：你可以直接粘贴文本（如助记词），或点击“选择文件”上传小文件。
- **设置参数**：
  - **容错率 (Error Rate)**：默认为 `0.2`（即允许 20% 的数据损坏）。对于纸质存档，建议保持此默认值或适当调高（如 `0.3`），以获得更强的抗损能力。
  - **块大小 (Block Size)**：默认为 `200`。建议保持默认。
  - **注意**：请务必记录下你使用的这两个参数值，恢复数据时需要用到。

### 2. 生成编码
点击 **“执行编码 (Run Encode)”** 按钮。系统将生成原始的 Base32 编码字符串。

### 3. 获取格式化块
在输出区域，切换到 **“格式化块 (Formatted Block)”** 标签页。
你会看到数据被分割成了易于阅读的块，格式如下：
```text
Block #0
FUWS2-LJNIJ-CUOSK-OEBJF
GQJAK-BJESV-SBKRC-SAS2F
...
```
这种格式每 5 个字符一组，每行 4 组，非常适合人工核对和录入。

### 4. 打印与保存
- **导出**：点击 **“下载 .txt”** 保存文件，或点击 **“复制”** 将内容粘贴到文档编辑器中。
- **关键补充**：在打印纸的头部或空白处，**必须手写或打印本次使用的配置参数**，格式如下：
  ```text
  配置信息: 容错率 0.2, 块大小 200
  ```
  或者记录原始输出第一行的头部信息（例如 `#RS:0.2:200`）。
  > **警告**：如果丢失了这些参数，解码时可能需要多次尝试才能匹配正确，增加了恢复难度。

- **打印**：将包含格式化块和配置信息的文档打印到高质量纸张上。建议使用激光打印机以防墨水晕染。

---

## 第二部分：数据恢复（录入与解码）

当需要从纸质备份中恢复数据时，请进入“解码 (Decode)”页面。

### 1. 设置解码参数
根据纸质文档上记录的信息，在左侧“设置 (Settings)”区域调整：
- **容错率**（例如 0.2）
- **块大小**（例如 200）
> 如果你有名为 `#RS:0.2:200` 格式的头部字符串，也可以直接粘贴到文本输入框的第一行，系统会自动识别并应用设置。

### 2. 录入数据
系统提供两种录入模式，请根据情况选择：

#### 模式 A：文本模式（推荐 OCR 扫描）
如果你使用 OCR（文字识别）软件将纸质文档扫描为文本，或者数据量较大：
1. 选择 **“文本 / 原始数据”** 标签。
2. 将识别出的内容直接粘贴到输入框中。
   - 系统会自动识别 `Block #数字` 标记。
   - 系统会自动忽略连字符 `-`、空格和换行符，因此你不必手动清理格式。

#### 模式 B：块构建器（推荐人工手动录入）
如果你是看着纸张手工敲击键盘录入：
1. 选择 **“块构建器 (Block Builder)”** 标签。
2. 系统默认提供一个输入块。对照纸张上的 `Block #0`，将字符输入到第一个框中。
   - 输入时无需区分大小写，无需输入连字符（也可以输入，系统会自动忽略）。
3. 如果有多个块（如 `Block #1`, `Block #2`...），点击 **“添加新块 (Add New Block)”** 按钮增加输入框，依次录入。
4. **优势**：此模式可以让你分块录入，避免面对一大段乱码眼花缭乱，且更容易核对进度。

### 3. 执行解码
点击 **“执行解码 (Run Decode)”**。
- **成功**：右侧将显示恢复的原始文本，或提供文件下载。
- **失败**：如果提示错误，请检查：
  - 参数设置是否与存档时一致？
  - 是否有某个块漏录或行数不对？
  - 利用 Reed-Solomon 的纠错特性，你不需要保证 100% 字符正确，但错误量不能超过容错率上限。

---

## 最佳实践摘要

1. **双重备份**：打印两份存档，存放在不同的物理位置。
2. **测试恢复**：在正式归档前，务必试着将打印出的内容重新录入一遍，确保能够成功解码。
3. **书写清晰**：如果是手抄备份，请务必使用正楷大写字母，注意区分易混淆字符（如 `I` 和 `1`，`O` 和 `0`）。
